(function(b){new (Backbone.View.extend({initialize:function(){this.nav=new NavigationView;console.log("blah1");this.auth=new RdioView;console.log("blah2");this.control=new ControlState;console.log("blah3");this.seedType=new SeedTypeView;console.log("blah4");this.artistInput=new ArtistSeedInputView({model:this.control});console.log("blah5");this.playlist=new PlaylistView({model:this.control});console.log("blah6");this.player=new PlayerView;console.log("blah7");this.filters=new FilterView;Backbone.pubSub.on("selectType",
this.selectType,this);Backbone.pubSub.on("updateDetail",this.updateDetail,this);Backbone.pubSub.on("updateArtistSeeds",this.updateArtistSeeds,this)},selectType:function(a){this.nav.renderSwitch("#topbar-nav-seed",a);this.control.set("currentType",a);console.log(this.control);switch(a){case "artist":this.artistInput.render();break;case "track":"trackInput"in this?this.trackInput.render():this.trackInput=new TrackSeedInputView({model:this.control});break;case "genre":"genreInput"in this?this.genreInput.render():
this.genreInput=new GenreSeedInputView({model:this.control});break;case "playlist":"playlistInput"in this?this.playlistInput.render():this.playlistInput=new PlaylistSeedInputView({model:this.control})}this.detail=new DetailView({el:b("#playlist-detail"),model:this.control})},updateDetail:function(a){"detail"in this||(this.detail=new DetailView({el:b("#playlist-detail"),model:this.control}));a?this.detail.reset(a):this.detail.reset()},updateArtistSeeds:function(a){this.artistInput.updateImg(b(".artist-ctl img").get(a),
a)}}))})(jQuery);
